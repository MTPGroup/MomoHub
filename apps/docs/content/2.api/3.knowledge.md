---
title: Knowledge
description: 知识库管理 API
---

## 获取公开知识库列表

::endpoint{method="GET" path="/knowledge-bases/public"}
获取所有公开的知识库列表。
::

**查询参数：**

::field{name="page" type="number"}
页码，默认 1
::

::field{name="limit" type="number"}
每页数量，默认 20
::

**响应数据：** `PagedResponse<KnowledgeBaseResponse>`

---

## 获取我的知识库列表

::endpoint{method="GET" path="/knowledge-bases" auth}
获取当前用户创建的知识库列表。
::

**查询参数：**

::field{name="page" type="number"}
页码，默认 1
::

::field{name="limit" type="number"}
每页数量，默认 20
::

---

## 获取知识库详情

::endpoint{method="GET" path="/knowledge-bases/:id"}
根据 ID 获取知识库详细信息。
::

**响应数据：**

```json
{
  "id": "kb_abc123",
  "name": "产品文档",
  "description": "公司产品的技术文档集合",
  "authorId": "usr_abc123",
  "isPublic": true,
  "createdAt": "2025-01-01T00:00:00Z",
  "updatedAt": "2025-01-15T08:30:00Z"
}
```

---

## 创建知识库

::endpoint{method="POST" path="/knowledge-bases" auth}
创建一个新的知识库。
::

**请求参数：**

::field{name="name" type="string" required}
知识库名称
::

::field{name="description" type="string"}
知识库描述
::

::field{name="isPublic" type="boolean"}
是否公开，默认 `false`
::

---

## 更新知识库

::endpoint{method="PUT" path="/knowledge-bases/:id" auth}
更新知识库信息。
::

**请求参数：**

::field{name="name" type="string" required}
知识库名称
::

::field{name="description" type="string"}
知识库描述
::

::field{name="isPublic" type="boolean" required}
是否公开
::

---

## 删除知识库

::endpoint{method="DELETE" path="/knowledge-bases/:id" auth}
删除指定的知识库及其所有文件。此操作不可撤销。
::

---

## 获取知识库统计

::endpoint{method="GET" path="/knowledge-bases/:id/stats"}
获取知识库的文件和文档数量统计。
::

**响应数据：**

```json
{
  "knowledgeBaseId": "kb_abc123",
  "fileCount": 15,
  "documentCount": 230
}
```

---

## 获取知识库文件列表

::endpoint{method="GET" path="/knowledge-bases/:knowledgeBaseId/files"}
获取知识库中的所有文件。
::

**响应数据：**

```json
[
  {
    "id": "file_abc123",
    "knowledgeBaseId": "kb_abc123",
    "fileName": "产品手册.pdf",
    "fileSize": 2048576,
    "fileType": "application/pdf",
    "status": "COMPLETED",
    "errorMessage": null,
    "createdAt": "2025-01-01T00:00:00Z",
    "updatedAt": "2025-01-01T00:05:00Z"
  }
]
```

文件处理状态：`PENDING` | `PROCESSING` | `COMPLETED` | `FAILED`

---

## 上传文件

::endpoint{method="POST" path="/knowledge-bases/:knowledgeBaseId/files" auth}
上传文件到知识库。使用 `multipart/form-data` 格式。
::

```bash
curl -X POST https://api.momohub.com/v1/knowledge-bases/kb_abc123/files \
  -H "Authorization: Bearer <token>" \
  -F "file=@document.pdf"
```

---

## 删除文件

::endpoint{method="DELETE" path="/knowledge-bases/:knowledgeBaseId/files/:fileId" auth}
从知识库中删除指定文件。
::
